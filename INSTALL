====================================
 Android build installation script:
====================================



Java environment
================

sudo apt-get install openjdk-7-jdk



Android SDK
===========

For 64bit OS only (to make adb work):
-------------------------------------
sudo apt-get install libstdc++6:i386 libgcc1:i386 zlib1g:i386 libncurses5:i386 ia32-libs



wget http://dl.google.com/android/android-sdk_r24.1.2-linux.tgz
tar zxvf android-sdk_r24.1.2-linux.tgz


export ANDROID_HOME="/home/vagrant/android-sdk-linux"
export PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools

# Install:
# * Android SDK Platform-tools
# * Android SDK Build-tools
# * SDK Platform Android 4.4.2, API 19

( sleep 5 && while [ 1 ]; do sleep 1; echo y; done ) | android update sdk --no-ui --all --filter platform-tools,build-tools-22.0.1,android-19


# To show list of available packages: android list sdk --all

# By parsing package number
# sdk_package=$(android list sdk --all | grep "SDK Platform Android 4\.4\.2" | awk -F'-' '{print $1}' | tr -d ' ')
# sdk_package=$(android list sdk --all | grep "SDK Platform Android 4\.4\.2" | cut -d '-' -f1 | tr -d ' ')
# ( sleep 5 && while [ 1 ]; do sleep 1; echo y; done ) | android update sdk --no-ui --all --filter platform-tools,build-tools-22.0.1,$sdk_package




Install NPM package manager, Node.js, Cordova
=============================================

sudo apt-get install npm

# due to https://github.com/npm/npm/issues/2119
# use http instead of https

npm config set registry http://registry.npmjs.org/

# Update Node.js to 0.10.32

sudo npm cache clean -f
sudo npm install -g n
sudo n 0.10.32

sudo npm install -g cordova@4.2.0


Install Ant
===========

sudo apt-get install ant


Build project
=============

cd <project-dir>

cordova platform add android

# Install required Cordova plugins (from package.json)
node tasks/plugins.js

cordova build android
