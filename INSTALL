====================================
 Android build installation script:
====================================


Java environment
================

sudo apt-get install openjdk-7-jdk


Android SDK
===========

For 64bit OS only (to make adb work):
-------------------------------------
sudo apt-get install libstdc++6:i386 libgcc1:i386 zlib1g:i386 libncurses5:i386 ia32-libs


wget http://dl.google.com/android/android-sdk_r24.1.2-linux.tgz
tar zxvf android-sdk_r24.1.2-linux.tgz


export ANDROID_HOME="/home/vagrant/android-sdk-linux"
export PATH=${PATH}:$ANDROID_HOME/tools:$ANDROID_HOME/platform-tools

# Install:
# * Android SDK Platform-tools
# * Android SDK Build-tools
# * SDK Platform Android 4.4.2, API 19

# To show list of available packages: android list sdk --all


( sleep 5 && while [ 1 ]; do sleep 1; echo y; done ) | android update sdk --no-ui --all --filter platform-tools,build-tools-22.0.1,android-19


Install NPM package manager, Node.js, Cordova
=============================================

virtualenv android-build
source android-build/bin/activate
mkdir android-build/npm
cd android-build/npm
wget http://nodejs.org/dist/v0.10.32/node-v0.10.32.tar.gz
tar zxvf node-v0.10.32.tar.gz
cd node-v0.10.32
./configure --prefix=$VIRTUAL_ENV
make install

npm install -g cordova@4.2.0
(npm install -g <tarball url>)


Install Ant
===========

sudo apt-get install ant


Build project
=============

cd <project-dir>

cordova platform add android

# Install required Cordova plugins (from package.json)
node tasks/plugins.js

cordova build android

