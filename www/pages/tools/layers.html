<ons-page ng-controller="LayersController">
	<div class="tab-bar tab-bar--top">
		<label class="tab-bar__item">
			<input type="radio" name="layers-tab-radio" value="0" ng-model="ui.tools_layers_tab">
			<button class="tab-bar__button">
				<i class="tab-bar__icon ion-android-map"></i>
				<div class="tab-bar__label">Base layer</div>
			</button>
		</label>

		<label class="tab-bar__item">
			<input type="radio" name="layers-tab-radio" value="1" ng-model="ui.tools_layers_tab">
			<button class="tab-bar__button">
				<i class="tab-bar__icon ion-social-buffer"></i>
				<div class="tab-bar__label">Layers</div>
			</button>
		</label>

		<label class="tab-bar__item">
			<input type="radio" name="layers-tab-radio" value="2" ng-model="ui.tools_layers_tab">
			<button class="tab-bar__button">
				<i class="tab-bar__icon ion-android-color-palette"></i>
				<div class="tab-bar__label">Legend</div>
			</button>
		</label>
	</div>
	<gl-carousel-tab-slider gl-tab-model="ui.tools_layers_tab" gl-carousel="app.panel.carousel"></gl-carousel-tab-slider>

	<ons-carousel var="app.panel.carousel" class="map-panel" style="width: 100%; height: {{ panelHeight }}px" swipeable auto-scroll>
		<ons-carousel-item>
			<ons-scroller style="height: {{ panelHeight }}px;">
				<div class="baselayer-container">
					<div
						ivh-treeview="baseLayers.tree"
						ivh-treeview-expand-to-depth="-1"
						ivh-treeview-use-checkboxes="false"
						ivh-treeview-twistie-leaf-tpl="'
							<label class=&quot;radio-button&quot;>
								<input type=&quot;radio&quot; name=&quot;baselayer-radio&quot; value=&quot;{{ node.name }}&quot; ng-model=&quot;node.selected.name&quot;></input>
								<div class=&quot;radio-button__icon-checkmark&quot;></div>
							</label>'"
						>
					</div>
				</div>
			</ons-scroller>
		</ons-carousel-item>

		<ons-carousel-item>
			<ons-scroller style="height: {{ panelHeight }}px;">
				<div class="layers-container">
					<div
						ivh-treeview="layers.tree"
						ivh-treeview-expand-to-depth="-1"
						ivh-treeview-use-checkboxes="true"
						ivh-treeview-validate="false"
						ivh-treeview-change-handler="layersVisibilityChanged"
						ivh-treeview-twistie-leaf-tpl="'<span class=&quot;{{ node.geom_type | lowercase }}-layer-icon&quot;></span>'"
						>
					</div>
				</div>
			</ons-scroller>
		</ons-carousel-item>

		<ons-carousel-item>
			<ons-scroller style="height: {{ panelHeight }}px;">
				<div class="legend-container">
					<img class="legend-item" ng-repeat="layer in layers.list" ng-if="layer.visible && !layer.isGroup" ng-src="{{ layer.legendUrl }}" />
				</div>
			</ons-scroller>
		</ons-carousel-item>
	</ons-carousel>
</ons-page>
